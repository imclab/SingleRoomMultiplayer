<html>
<head>
	<title>Weapons Test</title>
	<link rel="stylesheet" type="text/css" href="../../res/css/style.css">
</head>
<body>
	<script type="text/javascript" src="../external/Underscore.js"></script>
	<script type="text/javascript" src="../external/Stats.min.js"></script>
	<script type="text/javascript" src="../external/THREE-r58.min.js"></script>
	<script type="text/javascript" src="../external/THREE.ColladaLoader.js"></script>

	<script type="text/javascript" src="Collisions.js"></script>

	<script type="text/javascript">
        var scene, camera, renderer, stats, stats2, clock,
        	cube1, cube2, cubeSize = 10, plane;

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 10000);
            camera.position.z = 150;

            renderer = new THREE.WebGLRenderer();
            renderer.setSize( window.innerWidth, window.innerHeight );
            renderer.setClearColor(0x000000);

            stats = new Stats();
            clock = new THREE.Clock();

            cube1 = new THREE.Mesh( new THREE.CubeGeometry( cubeSize, cubeSize, cubeSize ) );
            cube2 = new THREE.Mesh( new THREE.CubeGeometry( 11, 12, 15 ) );
            plane = new THREE.Mesh( new THREE.SphereGeometry( 2, 2 ) );

            scene.add( cube1 );
            scene.add( cube2 );
            scene.add( plane );

            stats.domElement.style.position = 'absolute';
            stats.domElement.style.top = '0';

            console.log( cube1 );

            document.body.appendChild( renderer.domElement );
            document.body.appendChild( stats.domElement );
        }

        function animate() {
            requestAnimationFrame( animate );
            render();
            stats.update();
        }

        function updateCubes() {
            cube1.position.x = Math.sin( Date.now() * 0.0005 ) * 50;
            cube2.position.copy( cube1.position ).negate();
        }

        function checkCollision() {
        	if( gjk.intersect( cube1, cube2 ) ) {
        		console.log( true );
        	}
        }

        function render( dt ) {
        	updateCubes();
        	checkCollision();
            renderer.render( scene, camera );
        }


        init();
        animate();

	</script>
</body>
</html>